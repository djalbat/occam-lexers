'use strict';

function tokenise(content, Token) {
  var tokensOrContents = [],
      regularExpression = Token.regularExpression;


  var match = content.match(regularExpression);

  while (match !== null) {
    var _match = match,
        index = _match.index,
        token = Token.fromMatch(match),
        tokenLength = token.getContentLength(),
        left = index,
        right = index + tokenLength,
        leftContent = content.substring(0, left),
        rightContent = content.substring(right);


    if (leftContent !== '') {
      content = leftContent; ///

      tokensOrContents.push(content);
    }

    tokensOrContents.push(token);

    content = rightContent; ///

    match = content.match(regularExpression);
  }

  if (content !== '') {
    tokensOrContents.push(content);
  }

  return tokensOrContents;
}

module.exports = {
  tokenise: tokenise
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvdG9rZW4uanMiXSwibmFtZXMiOlsidG9rZW5pc2UiLCJjb250ZW50IiwiVG9rZW4iLCJyZWd1bGFyRXhwcmVzc2lvbiIsIm1hdGNoIiwiaW5kZXgiLCJ0b2tlbiIsImZyb21NYXRjaCIsInRva2VuTGVuZ3RoIiwiZ2V0Q29udGVudExlbmd0aCIsImxlZnQiLCJyaWdodCIsImxlZnRDb250ZW50Iiwic3Vic3RyaW5nIiwicmlnaHRDb250ZW50IiwidG9rZW5zT3JDb250ZW50cyIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxTQUFTQSxRQUFULENBQWtCQyxPQUFsQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDMUIseUJBQW1CLEVBQW5CO0FBQUEsTUFDRUMsaUJBREYsR0FDd0JELEtBRHhCLENBQ0VDLGlCQURGOzs7QUFHTixNQUFJQyxRQUFRSCxRQUFRRyxLQUFSLENBQWNELGlCQUFkLENBQVo7O0FBRUEsU0FBT0MsVUFBVSxJQUFqQixFQUF1QjtBQUFBLGlCQUNIQSxLQURHO0FBQUEsUUFDYkMsS0FEYSxVQUNiQSxLQURhO0FBQUEsUUFFZkMsS0FGZSxHQUVQSixNQUFNSyxTQUFOLENBQWdCSCxLQUFoQixDQUZPO0FBQUEsUUFHZkksV0FIZSxHQUdERixNQUFNRyxnQkFBTixFQUhDO0FBQUEsUUFJZkMsSUFKZSxHQUlSTCxLQUpRO0FBQUEsUUFLZk0sS0FMZSxHQUtQTixRQUFRRyxXQUxEO0FBQUEsUUFNZkksV0FOZSxHQU1EWCxRQUFRWSxTQUFSLENBQWtCLENBQWxCLEVBQXFCSCxJQUFyQixDQU5DO0FBQUEsUUFPZkksWUFQZSxHQU9BYixRQUFRWSxTQUFSLENBQWtCRixLQUFsQixDQVBBOzs7QUFTckIsUUFBSUMsZ0JBQWdCLEVBQXBCLEVBQXdCO0FBQ3RCWCxnQkFBVVcsV0FBVixDQURzQixDQUNFOztBQUV4QkcsdUJBQWlCQyxJQUFqQixDQUFzQmYsT0FBdEI7QUFDRDs7QUFFRGMscUJBQWlCQyxJQUFqQixDQUFzQlYsS0FBdEI7O0FBRUFMLGNBQVVhLFlBQVYsQ0FqQnFCLENBaUJHOztBQUV4QlYsWUFBUUgsUUFBUUcsS0FBUixDQUFjRCxpQkFBZCxDQUFSO0FBQ0Q7O0FBRUQsTUFBSUYsWUFBWSxFQUFoQixFQUFvQjtBQUNsQmMscUJBQWlCQyxJQUFqQixDQUFzQmYsT0FBdEI7QUFDRDs7QUFFRCxTQUFPYyxnQkFBUDtBQUNEOztBQUVERSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZsQjtBQURlLENBQWpCIiwiZmlsZSI6InRva2VuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZnVuY3Rpb24gdG9rZW5pc2UoY29udGVudCwgVG9rZW4pIHtcclxuICBjb25zdCB0b2tlbnNPckNvbnRlbnRzID0gW10sXHJcbiAgICAgICAgeyByZWd1bGFyRXhwcmVzc2lvbiB9ID0gVG9rZW47XHJcblxyXG4gIGxldCBtYXRjaCA9IGNvbnRlbnQubWF0Y2gocmVndWxhckV4cHJlc3Npb24pO1xyXG5cclxuICB3aGlsZSAobWF0Y2ggIT09IG51bGwpIHtcclxuICAgIGNvbnN0IHsgaW5kZXggfSA9IG1hdGNoLFxyXG4gICAgICAgICAgdG9rZW4gPSBUb2tlbi5mcm9tTWF0Y2gobWF0Y2gpLFxyXG4gICAgICAgICAgdG9rZW5MZW5ndGggPSB0b2tlbi5nZXRDb250ZW50TGVuZ3RoKCksXHJcbiAgICAgICAgICBsZWZ0ID0gaW5kZXgsIC8vL1xyXG4gICAgICAgICAgcmlnaHQgPSBpbmRleCArIHRva2VuTGVuZ3RoLFxyXG4gICAgICAgICAgbGVmdENvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBsZWZ0KSxcclxuICAgICAgICAgIHJpZ2h0Q29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKHJpZ2h0KTtcclxuXHJcbiAgICBpZiAobGVmdENvbnRlbnQgIT09ICcnKSB7XHJcbiAgICAgIGNvbnRlbnQgPSBsZWZ0Q29udGVudDsgIC8vL1xyXG5cclxuICAgICAgdG9rZW5zT3JDb250ZW50cy5wdXNoKGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRva2Vuc09yQ29udGVudHMucHVzaCh0b2tlbik7XHJcblxyXG4gICAgY29udGVudCA9IHJpZ2h0Q29udGVudDsgLy8vXHJcblxyXG4gICAgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKHJlZ3VsYXJFeHByZXNzaW9uKTtcclxuICB9XHJcblxyXG4gIGlmIChjb250ZW50ICE9PSAnJykge1xyXG4gICAgdG9rZW5zT3JDb250ZW50cy5wdXNoKGNvbnRlbnQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRva2Vuc09yQ29udGVudHM7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHRva2VuaXNlXHJcbn07XHJcbiJdfQ==